<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Types and cast</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
}

.simple-table-header {
	background: rgb(247, 246, 243);
	color: black;
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="7d645f34-db2b-4301-a046-ab8483bb7a08" class="page sans"><header><h1 class="page-title">Types and cast</h1></header><div class="page-body"><nav id="525f2511-378f-40e8-8d8e-33ffef7f629c" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#99730c85-e2a4-4c03-ad09-c4190a48ae65">1 - Type</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e5331696-0e82-4337-b3e2-7adeb0a9920d">1.1 - Builtin type RValues</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#7b714a33-e96e-4459-9488-ec2c57255c1e">1.2 - Make your type</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e11ca2da-afd1-4899-9fed-bf5eeeb7359e">1.3 Make your conditional type</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4f5dfa18-f3ca-4629-8238-3b6f71b7ba52">1.4 check the type of a value</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#f0f351c7-2be0-42a8-8d89-6d25daf895bd">2 - Alias</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#fb5adbe9-e2fd-4b34-a384-5e7ac68354d0">2.2 - Simple aliasing</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f4ba3521-98e2-46a0-8857-e2f799aab2b3">2.2 - Dynamic condition for types</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#e3936af8-e44c-4f78-a90e-c72049715e57">3 - Cast</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#782a8a12-1c5d-4284-9ba6-a02da4161a0f">3.1 - Define how to cast</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#56000fa7-6f67-4fbd-9487-701608800890">3.1.1 - Get help from nu-cmd</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#251cf82c-ac0a-42a1-ad72-310daf6a8709">3.1.2 - Define your own cast</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a4e1bc03-27b9-4c16-9062-8a2e8de1fec1">3.2 - Use it</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#5708615a-5e88-40fa-8bc5-d0fac18906f7">3.2.1 - Implicit cast</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#eec6d6e2-446a-4e75-ac5a-01d5844f7fde">3.2.2 - explicit cast</a></div></nav><h1 id="99730c85-e2a4-4c03-ad09-c4190a48ae65" class="">1 - Type</h1><p id="805d9697-8a1f-4044-b7a0-1eb5eadd7bb7" class=""><em>Nu</em> is strongly typed. Meaning we can&#x27;t do anything with the data. But the goal is not to restrain the possibilities, it&#x27;s even the opposite ! The goal is to allow doing clean code, easy to read, and logical to build ! It will make every debug session more simple, especially because almost all type are static (known at compile time).</p><h2 id="e5331696-0e82-4337-b3e2-7adeb0a9920d" class="">1.1 - Builtin type RValues</h2><p id="f5058e60-d069-4c0c-9fd7-782a467b6c6f" class="">Let&#x27;s recap the builtin type, and how to get a RValue of them.
<code>int</code>: integer, represent a decimal number.
—&gt; RValue: any number without floating point.
some example: <code>0, 10, 23, 18, 31, 42, 57</code>
The range of the number available depend of the sub-nu used.

<code>float</code>: floating point number, it is an approximate real.
—&gt; RValue: any number followed by a <code>.</code> and numbers 
some example: <code>0.0, 23.18, 31.08, 42.0, 57.10</code> 
The range of the numbers available depend of the sub-nu used.

<code>fraction</code>: 2 integer for the numerator and the denumerator of a fraction, it is the representation the most close to the real numbers.
—&gt; RValue: 2 possibilities: 
• fraction way (the most optimised): two integer separate by <code>\</code>.
some example: <code>1 \ 3, 43\23, 19\33 </code>it is impossible to put a <code>0</code> after the <code>\</code>.
• floating point (runtime calculs) : a floating point value followed by parentheses that contains the repeated sequence.
some example: <code>1.(3) == 4\3 == 1.33..., 1.0(24) == 507\495 == 1.0242424...</code>.
It can use all classique numbers operator such as <code>+, -, *, /, ...</code>, and also have accessor to numerator and denumerator:
<code>(1.(3)).num == 4, (1.0(24)).denum = 495, (1.()).denum = 1</code>
fraction also have a <em>static method</em> called <em>pgcd</em> which compute the pgcd of two values:
<code>fraction.pgcd(100, 8) == 4</code>

<code>char</code>: a character.
—&gt; RValue: any character surrounded by <code>&#x27;</code>, of at least ASCII and at most utf-8 (depending of the sub-nu used)
some example: <code>&#x27;c&#x27;, &#x27; &#x27;, &#x27;&#x27;</code>(the character <code>&#x27;&#x27;</code> is the empty character)

<code>string</code>: a text, represented by a string of <code>char</code>.
—&gt; RValues: any successive <code>char</code> surrounded by <code>&quot;</code>
some example: <code>&quot;&quot;, &quot;Nu the best programing language&quot;, &quot;try it, do it&quot;</code> (the <code>string</code> <code>&quot;&quot;</code> contains only the empty <code>char</code>)
The character available depend of the <code>char</code> type (which depends of the sub-nu used)

<code>bool</code>: a boolean value
—&gt; RValues: the only values available are: <code>true</code> and <code>false</code>, else it is a boolean expression.</p><p id="1ad0cf14-1d52-4f35-a83e-c347da86476d" class=""><a href="">Top</a>    |    <a href="">Bottom</a></p><h2 id="7b714a33-e96e-4459-9488-ec2c57255c1e" class="">1.2 - Make your type</h2><p id="d9de2bc8-6ee9-4395-966e-eba797c22485" class="">It is possible to make its own type build on those already existing !</p><pre id="c9c5d4c3-1029-492f-8c9b-fd65c4fd8e65" class="code"><code>package main
type meter = float

func main() {
	var dist = 5 meter
	dist = meter{10.10}
	var noMeter = 18.5
}</code></pre><p id="d4cca389-a5b2-4f68-8dc4-fc1942ebefee" class="">Like builtin type, it is possible to type the RValue by simply add the type after the value.
In that example, the variable &quot;noMeter&quot; is not of type <code>meter</code> &#x27;cause nu-cmd has no way to know it should be.
More generally, the only moment where the type can be omit from a RValue, is when it is specified in the var declaration:</p><pre id="c2a9224a-57bd-40e0-9e77-d32f36fd3df5" class="code"><code>package main

type meter = float

func main() {
	var dist meter = 18
	dist = 42 meter
}</code></pre><p id="c5973289-79af-415b-848d-80c04c3944af" class="">So here, it is not possible to write: <code>dist = 42</code>, because 42 is an <code>int</code> and not a &quot;meter&quot;.</p><p id="37f40a0f-2c44-462a-823b-3f2f9300575c" class=""><a href="">Top</a>    |    <a href="">Bottom</a></p><h2 id="e11ca2da-afd1-4899-9fed-bf5eeeb7359e" class="">1.3 Make your conditional type</h2><p id="44890e05-7468-463f-88e1-92b9b636a8ae" class="">When making your type, it is possible to make them following special conditions. Those conditions are here to restraint the values possible for a given type.</p><pre id="89d71ee2-8ebe-4032-a05c-0842eb6e2d35" class="code"><code>package main

type positiv = int: self &gt; 0 with default = 1

func main() {
	var p positiv = 42
}</code></pre><p id="a73cf2d4-87a2-420e-a0a2-90a87416984d" class="">&quot;positiv&quot; is a type that comes from <code>int</code>, but only with value which are &gt; 0, and where the default value is 1.
Therefore, it is not possible to assign negative number nor 0.
The condition must be a <em>constexpr</em>, where <code>self</code> is the current value that we want set. The <code>with default</code> that allows to set the default value of the type, can be omitted when the default value of the time still respect the condition.</p><pre id="4b09d514-ac04-4318-bcbc-6b728c8566a0" class="code"><code>package main

type natural = int: self &gt;= 0 // with default not needed

func main() {}</code></pre><p id="6878d484-5247-417b-a8ba-8052f9fcd08b" class="">Here, no need to specify the default value, cause the default value of the base type (<code>int</code>) is still valid if we apply the condition.
Also, if a variable try to go to a value that doesn&#x27;t respect the condition, the language will <code>throw</code> a runtime <code>Error</code>. We&#x27;ll talk about the <code>throw</code> and the <code>Error</code>s, later.</p><p id="0892b107-c9a6-4a4e-b4fb-f05eaa8655b3" class=""><a href="">Top</a>    |    <a href="">Bottom</a></p><h2 id="4f5dfa18-f3ca-4629-8238-3b6f71b7ba52" class="">1.4 check the type of a value</h2><p id="310846bc-7fbb-4ffe-b2f4-3a4eb2d52b95" class="">It is possible to check the type of a variable with the <code>is</code> operator. That operator gives a boolean and we&#x27;ll see more about it in the chapter: <a href="Interfaces%20a23a70e7b0534b62834762323a101cbc.html"><span style="border-bottom:0.05em solid">Interfaces</span></a>, and <a href="Type%20&amp;%20dynamics%20typing%2052561aee854b46e59225e4862a1b72bd.html"><span style="border-bottom:0.05em solid">Type &amp; dynamic type</span></a>.</p><pre id="9f0459da-5a05-49d6-a356-41892a040695" class="code code-wrap"><code>package main

type natural = int: self &gt;= 0

func main() {
	val := 42 natural
	_ = val is int // false
	_ = val is natural // true
	_ = 18 is natural // false
	_ = 18 is int // true
}</code></pre><h1 id="f0f351c7-2be0-42a8-8d89-6d25daf895bd" class="">2 - Alias</h1><p id="64b01cf3-62b6-476d-88cf-d124f619eff9" class="">Alias are a way to rename a type, and apply some dynamic stuff on it. Alias are exported only if the type the reference is exported.</p><h2 id="fb5adbe9-e2fd-4b34-a384-5e7ac68354d0" class="">2.2 - Simple aliasing</h2><p id="e13239d0-17d4-4223-8bee-1707bd61a902" class="">When doing a simple alias, the alias can be used as if it was the same type:</p><pre id="1ff7d97f-4113-4ca7-9417-cbc5a474f318" class="code"><code>package main

type meter = float // meter is not exported (first letter in lowercase)
alias m -&gt; meter // so the alias is not exported neither

func main() {
	dist := 42 m
}</code></pre><p id="8d8a7847-d2c6-4c84-b780-6373c7e9fd00" class="">So here, &quot;m&quot; can be replaced by &quot;meter&quot; and reversely.</p><p id="9bda41bf-cbe6-48c6-ac58-ad22941721cd" class=""><a href="">Top</a>    |    <a href="">Bottom</a></p><h2 id="f4ba3521-98e2-46a0-8857-e2f799aab2b3" class="">2.2 - Dynamic condition for types</h2><p id="6f905eba-0e93-4897-99ce-11f8ac294ea8" class="">Like <code>type</code>, it is possible to make conditions to your aliases. Except those don&#x27;t have to be <em>constexpr</em>. Meaning the compiler won&#x27;t be able to tell you the value you giving in, is valid or not; it will necessary be discovered at runtime.</p><pre id="8ec97284-1392-4d24-9690-7d094809b17d" class="code"><code>package main

var noConstexpr = 18
alias MinInt -&gt; int: self &gt;= noConstexpr with default = 4

func main() {
	var v MinInt = 20
	noConstexpr = 42
	v2 := 31 MinInt
}</code></pre><p id="f690df69-1292-47de-89cf-14051ee5a358" class="">This code is valid, <strong>BUT</strong>...
<code>v2 := 31 MinInt</code>, will fail at runtime because the condition of &quot;MinInt&quot; is not respected.
With alias condition, what matter is only the assignment, that&#x27;s why, &quot;v&quot; is still valid after we modified noConstexpr.
As it is just <code>alias</code>, it is still possible to give an <code>int</code> instead of a &quot;MinInt&quot;; they are basically the same. In such case, the condition of &quot;MinInt&quot; won&#x27;t be checked.
Alias may also be used to change the default value of a basic type.</p><pre id="73ed6e63-7a2e-452b-ad47-7a50006c3a98" class="code"><code>package main

alias myInt -&gt; int: with default = 42

func main() {
	var mi myInt
	var i int
	trueExp := mi == default &amp;&amp; mi == 42
	trueExp = i == default &amp;&amp; i == 0
	trueExp = i != mi &amp;&amp; i == default &amp;&amp; mi == default
}</code></pre><p id="30f409b2-99f5-4705-9031-0cef08ee346e" class="">&quot;mi&quot; is an <code>int</code> aliased, but still an <code>int</code>, however, we modified its default value through the <code>alias</code>, where &quot;i&quot;, is juste a basic <code>int</code>.</p><p id="65ebbd2e-101c-4ba4-9524-81e21046eb5b" class=""><a href="">Top</a>    |    <a href="">Bottom</a></p><p id="14fb6ae3-265d-48f3-af90-cc60c21069cb" class="">
</p><h1 id="e3936af8-e44c-4f78-a90e-c72049715e57" class="">3 - Cast</h1><p id="dc1a93a9-d2e0-4dbe-be77-53414cc7965b" class="">As the language is strongly typed and we don&#x27;t want to be able to do trash, it doesn&#x27;t mean we can not cast !
It is possible to <code>cast</code> a value to another, but to do so, it must be explain on how to do it.</p><h2 id="782a8a12-1c5d-4284-9ba6-a02da4161a0f" class="">3.1 - Define how to cast</h2><p id="0d733ab9-6123-4850-bcf8-76969fe6856b" class="">Firstly, there are 3 kind of defined <code>cast</code>. The <code>explicit</code>, the <code>implicit</code>, the <code>delete</code>ed.
A cast can be user-define only ones.</p><h3 id="56000fa7-6f67-4fbd-9487-701608800890" class="">3.1.1 - Get help from nu-cmd</h3><p id="2b6bdc4f-a7c2-488d-abf7-1fd24f0a6335" class="">Nu-cmd automatically generated <code>cast</code>, following certains rules that we&#x27;ll see later. Here are the base <code>cast</code> for built in type:
<code>int</code> to <code>float</code> is <code>implicit</code>: 42 —&gt; 42.0
<code>int</code> to <code>fraction</code> is <code>implicit</code>: 42 —&gt; 42 \ 1
<code>float</code> to <code>int</code> is <code>explicit</code>: 42.15 —&gt; 42; 42.85 —&gt; 42 (truncate)
<code>float</code> to <code>fraction</code> is <code>explicit</code>: 42.15 —&gt; (computed using fraction.pgcd) 485\20
<code>fraction</code> to <code>float</code> is <code>explicit</code>: 485 \ 20 —&gt; 485. / 20. = 42.15 (the operator <code>/</code> is call)
<code>fraction</code> to <code>int</code> is <code>explicit</code>: 4 \ 3 —&gt; 1 (first as float then as int)
<code>int</code> to <code>char</code> and reversely are <code>explicit</code>: it&#x27;s a map in the <code>char</code> table.
<code>int</code> to <code>bool</code> is <code>implicit</code>: 0 = <code>false</code>,  <code>true</code> otherwise.
<code>char</code> to <code>string</code> is <code>implicit</code>: &#x27;*&#x27; —&gt; &quot;*&quot;

When creating a new <code>type</code>, the <code>cast</code> from and to the original type is <code>explicit</code>. Notice that 2 types that have the same origine have a default <code>cast</code> to <code>delete</code>.
That&#x27;s where the helped define <code>cast</code> of nu-cmd comes.</p><pre id="3b4131d8-0e97-4df3-81b9-2bd72bc2b145" class="code"><code>package main

type t1 = int // t1 has explicit cast to int and reversely
type t2 = int // same for t2
// t1 and t2 has deleted cast between each other
cast t1 as t2 is explicit // let nu-cmd make the cast
cast t2 as t2 is explicit // same for the other way.

func main() {}</code></pre><p id="0b4db0aa-59d2-477a-9129-bfe2457e2e29" class="">Just by writing those <code>cast</code> lines, &quot;t1&quot; and &quot;t2&quot; are explicitly castable from one to another.
This is possible because it exist a commun type both can be cast in (<code>int</code>). Basically, nu-cmd will make that cast by doing: t1 —&gt; int —&gt; t2; t2 —&gt; int —&gt; t1, even if t1 or t2 deleted the cast to <code>int</code>.

To mark a <code>cast</code> as <code>explicit</code>, <code>implicit</code> or <code>delete</code>, it comes at the end of the <code>cast</code> with <code>is</code> followed by the kind of <code>cast</code> you want.</p><p id="828d9196-076d-4168-b8a7-b59f1976e7df" class=""><a href="">Top</a>    |    <a href="">Bottom</a></p><p id="0145692a-4bec-487a-ab08-670e761fb371" class="">
</p><h3 id="251cf82c-ac0a-42a1-ad72-310daf6a8709" class="">3.1.2 - Define your own cast</h3><p id="90d7769f-6869-4276-9f34-ad860ad72bf0" class="">It is possible to define its own <code>cast</code>, with its own way to do it.</p><pre id="bbaf19c0-dc18-44fb-81b4-99aebb7c5f5a" class="code"><code>package main

type meter = float
type centimeter = float

cast meter as centimeter {
	cast.to = cast.from * 100
} is explicit

cast centimeter as meter {
	cast.to = cast.from / 100
} is explicit

func main() {}</code></pre><p id="d243d431-3218-44e8-94cf-71f6801b1f62" class=""><code>cast.to</code> represent the value as destination type, it is a variable, <code>cast.from</code> is the constant that represent the value we want to cast.
<code>cast</code> are always non-exported by default, so there is no need to add a <code>private</code> before them. However it is possible to use their definition out of the <code>package</code>/<code>namespace</code> if <code>private</code> is not mention.</p><pre id="cd210db1-8d70-4961-9ba7-a504c56cb4d9" class="code code-wrap"><code>// file1 in package A
package A

type MyInt = int // MyInt is exported

cast MyInt as string {
	if cast.from == 0 {
		cast.to = &quot;0&quot;
		return
	}
	cpy := cast.from
	while cpy != 0 {
		cast.to = cpy % 10 + cast.to
		cpy /= 10
	}
} is implicit // cast is not a default cast of MyInt !

private cast string as MyInt {
	// some code
	cast.to = 0
} is explicit // this cast can&#x27;t be used in other package/namespace

// file2 in package main
package main
import A

cast A.MyInt as string is implicit -&gt; A // use the cast defined in A
// cast string as A.MyInt is explicit -&gt; A is not possible cause that cast is not visible

func main() {
	var str string = A.MyInt{42} // ok !!
	_ = str
}</code></pre><p id="316ee0fa-2350-44cb-9b7a-e3f58659a0b5" class="">Now it can be annoying to always re-write <code>cast</code> of type we defined, and sometimes we  would like the to export (non private) cast we define around our type.
To do so we simply add <code>with cast</code> after the type definition !</p><pre id="98dfcb21-4518-4903-9dac-9bbce8c75f5c" class="code code-wrap"><code>package A

type Int = int with default = 42 &amp;&amp; cast

cast Int as int is implicit // nu can do it alone
private cast int as Int is implicit // nu can do it alone

// other file
package main
import A

func main() {
	var i int = A.Int{} // i == 42 !! // it works cause cast are defaulted !
	// _ = i as A.Int fail &#x27;cause cast int as A.Int is private !!
}</code></pre><p id="982b2470-3937-4c43-9913-dd75a1e573cf" class=""><a href="">Top</a>    |    <a href="">Bottom</a></p><h2 id="a4e1bc03-27b9-4c16-9062-8a2e8de1fec1" class="">3.2 - Use it</h2><h3 id="5708615a-5e88-40fa-8bc5-d0fac18906f7" class="">3.2.1 - Implicit cast</h3><p id="88f1d5f1-396b-49bf-b79d-cd13353ab5a8" class="">The implicit cast can be done without doing anything special. It will be done automatically when conversion is needed.
However, it is still possible to use the <code>cast</code> explicitly.</p><h3 id="eec6d6e2-446a-4e75-ac5a-01d5844f7fde" class="">3.2.2 - explicit cast</h3><p id="1ec3cbfb-70c2-42ca-8a7c-c5f7f2f12fcb" class="">The keyword used to make an <code>explicit cast</code> is <code>as</code>.</p><pre id="8fc9313f-b900-4ec5-b4a9-fb5a5ddc8265" class="code code-wrap"><code>package main

type meter = float
type centimeter = float

alias m -&gt; meter
alias cm -&gt; centimeter

cast m as cm {
	cast.to = cast.from * 100
} is explicit
cast cm as m {
	cast.to = cast.from * 100
} is explicit

func main() {
	dist := 42 m
	distCM := dist as centimeter + 18 cm
}
	</code></pre><p id="fd74589e-7257-4b58-9abf-9584a356c865" class="">So here, &quot;dist&quot; is cast in centimeter and then added to 18 cm.
Note that it would have fail if 18 was not marked as a &quot;cm&quot;, cause it&#x27;s not possible to add two value of two different type (cm and int) except if it exists an implicit cast.</p><p id="5dc33e8f-e37c-4729-b856-7aa0d6ecf0ca" class=""><a href="Variables,%20Constants,%20Values%203071bfe7f0974ec28985218b6f1ed522.html">Previous Chapter </a>   |    <a href="">Top</a>    |    <a href="Structures%20-%201%20a93812b68bf7407089021d4e96322a8e.html">Next Chapter</a></p></div></article></body></html><script>
	var codes = document.getElementsByTagName('code');
	for (var i = 0; i < codes.length; i++) {
		codes.item(i).classList.add('prettyprint', 'lang-go')
	}
</script>
<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=go;skin=desert"></script>